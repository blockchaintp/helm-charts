---
## @md # DAML on Postgres Chart
## @md
## @md ## Configuration
## @md
## @md | field | description | type | default |
## @md |- |- |- |- |

imagePullSecrets:
  enabled: false
  value: []

deployment:
  name: default
  namespace: default


daml:
  auth:
    enabled: false
  image:
    repository: blockchaintp/daml-on-postgres
    tag: BTP2.1.0rc14
    pullPolicy: IfNotPresent
  ledgerId: someIdentifyingString
  extra_args:
    enabled: false
    arg_str:
  rpc:
    port: 39000
    resources: {}
    env: {}
  serviceAccount:
    create: true
    name:

  jsonapi:
    image:
      repository: blockchaintp/daml-json-api
      tag: BTP2.1.0rc14
      pullPolicy: IfNotPresent
    ports:
      http: 8080
    packageReloadInterval: "5s"
    resources: {}
    waitTimeSeconds: 0
    env:
    ingress:
      enabled: false
      annotations: {}
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
      hosts:
        - host: chart-example.local
          paths:
            - /

postgres:
  # If true dynamically allocate a postgres database, otherwise expect
  # configuration details
  enabled: true
  image:
    repository: postgres
    tag: "11"
    pullPolicy: IfNotPresent
  host: localhost
  port: 5432
  user: postgres
  database: postgres
  password: ''
  existingPasswordSecret: ''
  ## Name of existing secret object
  ## The secret should contain the following keys:
  ## password
  ## Enable persistence using Persistent Volume Claims

  ## ref: http://kubernetes.io/docs/user-guide/persistent-volumes/
  ##
  persistence:
    enabled: true
    ## If defined, storageClassName: <storageClass>
    ## If set to "-", storageClassName: "", which disables dynamic provisioning
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    # storageClass: "-"
    storageClass:
    accessModes:
      - "ReadWriteOnce"
    accessMode: ReadWriteOnce
    size: 10Gi

openssl:
  image:
    repository: alpine/openssl
    tag: latest
k8s:
  image:
    repository: alpine/k8s
    tag: 1.18.2
